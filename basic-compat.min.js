/**
* minimal jquery/zepto compatibility layer
* @author jgotti at jgotti dot org for http://agence-modemploi.com
* @licence Dual licence LGPL / MIT
*/
!function(t){"use strict";if(!window.$||"$"!==t){var e=function(t,n){if(N(t))return e.ready(t);var i;if(t===window||t===document||x(t))i=[t];else if(b(t))i=t;else if(b(n))i=[],e.each(n,function(n,r){e(t,r).each(function(t,e){i.push(e)})});else if(n&&9!==n.nodeType||!L.test(t))if(A.test(t))i=$((n||document).getElementsByClassName(t.substr(1)));else if(S.test(t))i=$((n||document).getElementsByTagName(t));else if(T.test(t))i=M(t);else{n&&(n===window||n.document)&&(n=n.document);var r="";n&&t.match(/(^\s*[:>]|\S\s+\S)/)&&(r="#"+(n.id||(n.id=c))+" "),i=$((n||document).querySelectorAll(r+t)),r&&n.id===c&&(n.id=null)}else i=[(n||document).getElementById(t.substr(1))],null===i[0]&&(i=[]);return i.hasOwnProperty("each")||e.each(e.fn,function(t,e){i[t]=e}),i};e.ready=function(t){return document.readyState.match(/complete|loaded|interactive/)?setTimeout(t,0):document.addEventListener("DOMContentLoaded",function(){setTimeout(t,0)},!1),this},e.extend=function(){var t,i=arguments,r="boolean"==typeof i[0]?!0:!1,o=r?i[0]:!1,s=i[r?1:0],c=r?2:1,u=i.length;for(2===c&&(s=i[1]);u>c;c++)if(null!=i[c])for(t in i[c])i[c][t]!==n&&i[c][t]!==s&&i[c].hasOwnProperty(t)&&(o&&"object"==typeof i[c][t]?(s[t]=s[t]||(b(i[c][t])?[]:{}),e.extend(o,s[t],i[c][t])):s[t]=i[c][t]);return s},e.each=function(t,e){var n,i,r;if(b(t)||t instanceof NodeList){for(n=0,i=t.length;i>n;n++)if(e.call(t[n],n,t[n])===!1)return t}else for(r in t)if(t.hasOwnProperty(r)&&e.call(t[r],r,t[r])===!1)return t;return t},e.Event=function(t,n){var i=document.createEvent(t.match(/^(click|mousedown|mouseup|mousemove)$/)?"MouseEvents":"Events");return n&&e.extend(i,n),i.initEvent(t,n&&n.bubbles===!1?!1:!0,!0,null,null,null,null,null,null,null,null,null,null,null,null),i};var n,i={},r={elmts:{},handlers:{}},o=0,s=function(t){return t._uid||(t._uid=++o)},c="bcScopeSelectorId",u=window.document.addEventListener?function(t,e,n){e.addEventListener(t,n,!1)}:function(t,e,n){e.attachEvent("on"+t,n)},a=window.document.removeEventListener?function(t,e,n){e.removeEventListener(t,n,!1)}:function(t,e,n){e.detachEvent("on"+t,n)},l=function(t,i,o,c){e.each(t.split(/\s+/),function(t,e){var a=e.split("."),l=s(o);r.handlers[l]=o,(r.elmts[s(i)]||(r.elmts[s(i)]=[])).push({ns:a.length<2?n:a.slice(1).sort().join(" "),type:a[0],handler:l,s:c||n}),u(a[0],i,o)})},h=function(t,i,o,c){e.each(t.split(/\s+/),function(t,u){var l=u.split("."),h=o?s(o):n,f=l.slice(2).sort().join(" ");if(u=l[0],r.elmts[s(i)])for(var d,p,m=s(i),v=r.elmts[m].length;~--v;)d=r.elmts[m][v],!(u&&d.type!==u||c&&d.s!==c||h&&d.handler!==h||!(!f||d.ns&&d.ns.match(new RegExp("(^| )"+f+"( |$)")))||!a(d.type,i,r.handlers[d.handler])&&!r.elmts[m].splice(v,1)),p=!0,e.each(r.elmts,function(t,n){return e.each(n,function(t,e){return e.handler===d.handler?p=!1:void 0}),p}),p&&delete r.handlers[d.handler]})},f=function(){return!0},d=function(){return!1},p=function(t,e){return"className"in t&&t.className.match(new RegExp("(^|\\s)"+e+"($|\\s)"))?!0:!1},m=function(t,e){return window.getComputedStyle&&window.getComputedStyle(t,null).getPropertyValue(e)},v=function(t,n){var i=t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.matchesSelector;return i?i.call(t,n):!!~e(n,t.parentNode).indexOf(t)},y=function(t,e,n){return e.call(t,n)},g=function(t,e){return!!~e.indexOf(t)},w=function(t){var e=typeof t;return"string"===e?v:"function"===e?y:g},b=e.isArray=function(t){return t instanceof Array},E=e.isObject=function(t){return"object"==typeof t},N=e.isFunction=function(t){return t instanceof Function},C=(e.isNumeric=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},e.isEmptyObject=function(t){var n=!0;return e.each(t,function(){return n=!1}),n},e.isPlainObject=function(t){if(!(t instanceof Object)||t.nodeType||t.window&&t.window===t)return!1;try{if(t.constructor.prototype.hasOwnProperty("isPrototypeOf"))return!0}catch(e){}return!1}),O=e.isDomNode=function(t){return E(t)&&t.nodeType},x=e.isDomElmt=function(t){return O(t)&&1===t.nodeType},A=/^\s*\.([a-z0-9-]+)\s*$/i,L=/^\s*#([a-z0-9-]+)\s*$/i,S=/^\s*([a-z]+)\s*$/i,T=/<(?:!|\w)+/,$=function(t){return[].slice.call(t,0)},M=function(t){var e=document.createDocumentFragment().appendChild(document.createElement("div")),n=t.match(/<(\w+)/),i="";if(n&&(n=n[1]).toLowerCase(),n&&(n.match(/^(thead|tfoot|tbody|caption|colgroup|col)$/)?i="<table>":"tr"===n?i="<table><tbody>":n.match(/^t[hd]/)?i="<table><tbody><tr>":"option"===n&&(i="<select>")),e.innerHTML=i+t+i.replace(/</g,"</"),i)for(i=i.match(/</g),i=i?i.length:0;i--;e=e.childNodes[0]);return $(e.childNodes)};e.fn={each:function(t){return e.each(this,t),this},on:function(t,i,r,o){var s,c=arguments,u=c.length;return o||(o=c[u-1]),2===u?i=r=n:3===u&&(E(i)?(r=i,r=n):r=n),s=i||r?function(t){return i===n||e(t.target).is(i)?(r&&(t.data=r),o.call(t.target,t)):void 0}:o,e.each(this,function(e,n){l(t,n,s,i)})},off:function(t,i,r){return!r&&N(i)&&(r=i,i=n),e.each(this,function(e,n){h(t,n,r,i)})},trigger:function(t,n){return"string"==typeof t&&(t=e.Event(t)),n&&(t.data=n),e.each(this,function(e,n){"dispatchEvent"in n&&n.dispatchEvent(t)})},css:function(t,i){if(E(t)){var r=this;return e.each(t,function(t,e){r.css(t,e)}),this}t.match(/[A-Z]/)&&(t=t.replace(/([A-Z])/g,"-$1"));var o=t.replace(/-([a-z])/g,function(t,e){return e.toUpperCase()});return i===n?this[0].style[o]||m(this[0],t):e.each(this,function(t,e){e.style[o]=i})},attr:function(t,i){if(C(t)){var r=this;return e.each(t,function(t,e){r.attr(t,e)}),this}if(i===n){var o=this[0].getAttribute(t);return!o&&t in this[0]?this[0][t]:o}return e.each(this,function(e,n){N(i)?t in n?n[t]=i.call(n,e,n[t]):n.setAttribute(t,i.call(n,e,n.getAttribute(t))):t in n?n[t]=i:i?n.setAttribute(t,i):n.removeAttribute(t)})},removeAttr:function(t){return this.attr(t,"")},prop:function(t,i){return i===n?this[0]&&this[0][t]:e.each(this,function(e,n){n[t]=i})},html:function(t){return t===n?this[0][x(this[0])?"innerHTML":"value"]:e.each(this,function(e,n){n[x(n)?"innerHTML":"value"]=t})},remove:function(){return e.each(this,function(){this.parentNode&&this.parentNode.removeChild(this)})},find:function(t){var n=[];return e(t,this).each(function(){n.push(this)}),e(n)},hasClass:function(t){var n=!1;return e.each(this,function(){return p(this,t)?!(n=!0):void 0}),n},addClass:function(t){return t=t.split(/\s+/),e.each(this,function(n,i){e.each(t,function(){p(i,this)||(i.className+=(i.className.length?" ":"")+this)})})},removeClass:function(t){var n=new RegExp("(^|\\s)("+t.replace(/\s+/g,"|")+")($|\\s)","g"),i=function(t,e,n,i){return e===i?" ":""};return e.each(this,function(){this.className=this.className.replace(n,i)})},toggleClass:function(t,i){return i=i===n?p:i?d:f,t=t.split(/\s+/),e.each(this,function(n,r){e.each(t,function(){e(r)[i(r,this)?"removeClass":"addClass"](this)})})},hide:function(){return e.each(this,function(){var t=e(this),n=t.css("display");"none"!==n&&(this.setAttribute("data-bc-oldisplay",n),t.css("display","none"))})},show:function(){return e.each(this,function(){this.style.display=null,"none"===m(this,"display")&&(this.style.display=this.getAttribute("data-bc-olddisplay")||function(t){if(!i[t.nodeName]){var e=document.createElement(t.nodeName),n=document.body;n.appendChild(e),i[t.nodeName]=m(e,"display"),"none"===i[t.nodeName]&&(i[t.nodeName]="block"),n.removeChild(e)}return i[t.nodeName]}(this))})},toggle:function(t){return t=t===n?function(t){return"none"===t.css("display")}:t?f:d,e.each(this,function(){var n=e(this);n[t(n)?"show":"hide"]()})},is:function(t){if(O(t))return!!~this.indexOf(t);var n=!1,i=w(t);return e.each(this,function(e,r){return i(r,t,e)?!(n=!0):void 0}),n},filter:function(t){if(O(t))return e(~this.indexOf(t)?t:[]);var n=[],i=w(t);return e.each(this,function(e,r){i(r,t,e)&&n.push(r)}),e(n)},not:function(t){if(O(t))return e(~this.indexOf(t)?[]:t);var n=[],i=w(t);return e.each(this,function(e,r){i(r,t,e)||n.push(r)}),e(n)},closest:function(t){var n=[];return e.each(this,function(i,r){do if(e(r).is(t))return!n.push(r);while(r=r.parentNode)}),e(n)},append:function(t){var n=this,i=arguments;return i.length>1&&(t=$(i)),b(t)?(e.each(t,function(t,e){n.append(e)}),n):N(t)?e.each(this,function(n,i){x(i)&&e(i).append(t.call(i,n,i.innerHTML))}):"string"==typeof t?this.append(M(t)):O(t)?e.each(this,function(e,n){n.appendChild(e?t.cloneNode(!0):t)}):this},appendTo:function(t){return e(t).append(this),this},val:function(t){var n,i,r=this;return t?(e.each(this,function(e,n){n.value=t}),r):(n=r[0],"SELECT"!==n.tagName?n.value:(i=[],r.find("option[selected]").each(function(t,e){i.push(e.value)}),i.length?n.multiple?i:i[0]:null))}},window[t]=e}}("undefined"!=typeof basicCompatExportName?basicCompatExportName:"$");
